import"./intersection-observer.ec739b88.js";import{R as Zt,a as m,r as i,_ as qr,b as Xr,c as we,j as g,d as Y,e as Sr,F as Kr,w as Qr}from"./index.09e9e55f.js";import{r as Zr,a as Jr}from"./axios.348abbba.js";import"./utils.62547028.js";function Cr(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Cr(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function W(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Cr(e))&&(n&&(n+=" "),n+=t);return n}/*! @license DOMPurify 2.4.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.4/LICENSE */function Pe(e){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(e)}function It(e,t){return It=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},It(e,t)}function en(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lt(e,t,r){return en()?lt=Reflect.construct:lt=function(o,l,s){var c=[null];c.push.apply(c,l);var u=Function.bind.apply(o,c),d=new u;return s&&It(d,s.prototype),d},lt.apply(null,arguments)}function Ce(e){return tn(e)||rn(e)||nn(e)||an()}function tn(e){if(Array.isArray(e))return Lt(e)}function rn(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nn(e,t){if(!!e){if(typeof e=="string")return Lt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lt(e,t)}}function Lt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function an(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var on=Object.hasOwnProperty,Jt=Object.setPrototypeOf,ln=Object.isFrozen,sn=Object.getPrototypeOf,cn=Object.getOwnPropertyDescriptor,fe=Object.freeze,xe=Object.seal,un=Object.create,wr=typeof Reflect!="undefined"&&Reflect,ut=wr.apply,Dt=wr.construct;ut||(ut=function(t,r,n){return t.apply(r,n)});fe||(fe=function(t){return t});xe||(xe=function(t){return t});Dt||(Dt=function(t,r){return lt(t,Ce(r))});var fn=be(Array.prototype.forEach),er=be(Array.prototype.pop),Xe=be(Array.prototype.push),st=be(String.prototype.toLowerCase),Tt=be(String.prototype.toString),dn=be(String.prototype.match),Se=be(String.prototype.replace),mn=be(String.prototype.indexOf),vn=be(String.prototype.trim),ue=be(RegExp.prototype.test),Et=pn(TypeError);function be(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return ut(e,t,n)}}function pn(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Dt(e,r)}}function k(e,t,r){r=r||st,Jt&&Jt(e,null);for(var n=t.length;n--;){var o=t[n];if(typeof o=="string"){var l=r(o);l!==o&&(ln(t)||(t[n]=l),o=l)}e[o]=!0}return e}function He(e){var t=un(null),r;for(r in e)ut(on,e,[r])===!0&&(t[r]=e[r]);return t}function at(e,t){for(;e!==null;){var r=cn(e,t);if(r){if(r.get)return be(r.get);if(typeof r.value=="function")return be(r.value)}e=sn(e)}function n(o){return console.warn("fallback value for",o),null}return n}var tr=fe(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),_t=fe(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),St=fe(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hn=fe(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ct=fe(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),gn=fe(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),rr=fe(["#text"]),nr=fe(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),wt=fe(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ar=fe(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ot=fe(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),yn=xe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),bn=xe(/<%[\w\W]*|[\w\W]*%>/gm),Tn=xe(/\${[\w\W]*}/gm),En=xe(/^data-[\-\w.\u00B7-\uFFFF]/),_n=xe(/^aria-[\-\w]+$/),Sn=xe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Cn=xe(/^(?:\w+script|data):/i),wn=xe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),xn=xe(/^html$/i),Rn=function(){return typeof window=="undefined"?null:window},An=function(t,r){if(Pe(t)!=="object"||typeof t.createPolicy!="function")return null;var n=null,o="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(o)&&(n=r.currentScript.getAttribute(o));var l="dompurify"+(n?"#"+n:"");try{return t.createPolicy(l,{createHTML:function(c){return c},createScriptURL:function(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}};function xr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rn(),t=function(a){return xr(a)};if(t.version="2.4.4",t.removed=[],!e||!e.document||e.document.nodeType!==9)return t.isSupported=!1,t;var r=e.document,n=e.document,o=e.DocumentFragment,l=e.HTMLTemplateElement,s=e.Node,c=e.Element,u=e.NodeFilter,d=e.NamedNodeMap,h=d===void 0?e.NamedNodeMap||e.MozNamedAttrMap:d,T=e.HTMLFormElement,E=e.DOMParser,p=e.trustedTypes,y=c.prototype,C=at(y,"cloneNode"),_=at(y,"nextSibling"),P=at(y,"childNodes"),F=at(y,"parentNode");if(typeof l=="function"){var R=n.createElement("template");R.content&&R.content.ownerDocument&&(n=R.content.ownerDocument)}var w=An(p,r),A=w?w.createHTML(""):"",H=n,X=H.implementation,B=H.createNodeIterator,j=H.createDocumentFragment,re=H.getElementsByTagName,V=r.importNode,x={};try{x=He(n).documentMode?n.documentMode:{}}catch{}var O={};t.isSupported=typeof F=="function"&&X&&typeof X.createHTMLDocument!="undefined"&&x!==9;var U=yn,q=bn,ne=Tn,Q=En,ae=_n,ie=Cn,ce=wn,le=Sn,S=null,G=k({},[].concat(Ce(tr),Ce(_t),Ce(St),Ce(Ct),Ce(rr))),N=null,ge=k({},[].concat(Ce(nr),Ce(wt),Ce(ar),Ce(ot))),L=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),de=null,Re=null,Ae=!0,me=!0,I=!1,K=!0,$=!1,Z=!1,ve=!1,J=!1,Ee=!1,Be=!1,je=!1,Je=!0,Ve=!1,dt="user-content-",Le=!0,De=!1,ke={},Ne=null,M=k({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pe=null,_e=k({},["audio","video","img","source","image","track"]),mt=null,jt=k({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",Oe="http://www.w3.org/1999/xhtml",Ue=Oe,vt=!1,pt=null,$r=k({},[et,tt,Oe],Tt),Fe,jr=["application/xhtml+xml","text/html"],Ur="text/html",ee,ze=null,zr=n.createElement("form"),Ut=function(a){return a instanceof RegExp||a instanceof Function},ht=function(a){ze&&ze===a||((!a||Pe(a)!=="object")&&(a={}),a=He(a),Fe=jr.indexOf(a.PARSER_MEDIA_TYPE)===-1?Fe=Ur:Fe=a.PARSER_MEDIA_TYPE,ee=Fe==="application/xhtml+xml"?Tt:st,S="ALLOWED_TAGS"in a?k({},a.ALLOWED_TAGS,ee):G,N="ALLOWED_ATTR"in a?k({},a.ALLOWED_ATTR,ee):ge,pt="ALLOWED_NAMESPACES"in a?k({},a.ALLOWED_NAMESPACES,Tt):$r,mt="ADD_URI_SAFE_ATTR"in a?k(He(jt),a.ADD_URI_SAFE_ATTR,ee):jt,pe="ADD_DATA_URI_TAGS"in a?k(He(_e),a.ADD_DATA_URI_TAGS,ee):_e,Ne="FORBID_CONTENTS"in a?k({},a.FORBID_CONTENTS,ee):M,de="FORBID_TAGS"in a?k({},a.FORBID_TAGS,ee):{},Re="FORBID_ATTR"in a?k({},a.FORBID_ATTR,ee):{},ke="USE_PROFILES"in a?a.USE_PROFILES:!1,Ae=a.ALLOW_ARIA_ATTR!==!1,me=a.ALLOW_DATA_ATTR!==!1,I=a.ALLOW_UNKNOWN_PROTOCOLS||!1,K=a.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$=a.SAFE_FOR_TEMPLATES||!1,Z=a.WHOLE_DOCUMENT||!1,Ee=a.RETURN_DOM||!1,Be=a.RETURN_DOM_FRAGMENT||!1,je=a.RETURN_TRUSTED_TYPE||!1,J=a.FORCE_BODY||!1,Je=a.SANITIZE_DOM!==!1,Ve=a.SANITIZE_NAMED_PROPS||!1,Le=a.KEEP_CONTENT!==!1,De=a.IN_PLACE||!1,le=a.ALLOWED_URI_REGEXP||le,Ue=a.NAMESPACE||Oe,a.CUSTOM_ELEMENT_HANDLING&&Ut(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(L.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck),a.CUSTOM_ELEMENT_HANDLING&&Ut(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(L.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),a.CUSTOM_ELEMENT_HANDLING&&typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(L.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(me=!1),Be&&(Ee=!0),ke&&(S=k({},Ce(rr)),N=[],ke.html===!0&&(k(S,tr),k(N,nr)),ke.svg===!0&&(k(S,_t),k(N,wt),k(N,ot)),ke.svgFilters===!0&&(k(S,St),k(N,wt),k(N,ot)),ke.mathMl===!0&&(k(S,Ct),k(N,ar),k(N,ot))),a.ADD_TAGS&&(S===G&&(S=He(S)),k(S,a.ADD_TAGS,ee)),a.ADD_ATTR&&(N===ge&&(N=He(N)),k(N,a.ADD_ATTR,ee)),a.ADD_URI_SAFE_ATTR&&k(mt,a.ADD_URI_SAFE_ATTR,ee),a.FORBID_CONTENTS&&(Ne===M&&(Ne=He(Ne)),k(Ne,a.FORBID_CONTENTS,ee)),Le&&(S["#text"]=!0),Z&&k(S,["html","head","body"]),S.table&&(k(S,["tbody"]),delete de.tbody),fe&&fe(a),ze=a)},zt=k({},["mi","mo","mn","ms","mtext"]),Wt=k({},["foreignobject","desc","title","annotation-xml"]),Wr=k({},["title","style","font","a","script"]),rt=k({},_t);k(rt,St),k(rt,hn);var gt=k({},Ct);k(gt,gn);var Yr=function(a){var f=F(a);(!f||!f.tagName)&&(f={namespaceURI:Ue,tagName:"template"});var v=st(a.tagName),D=st(f.tagName);return pt[a.namespaceURI]?a.namespaceURI===tt?f.namespaceURI===Oe?v==="svg":f.namespaceURI===et?v==="svg"&&(D==="annotation-xml"||zt[D]):Boolean(rt[v]):a.namespaceURI===et?f.namespaceURI===Oe?v==="math":f.namespaceURI===tt?v==="math"&&Wt[D]:Boolean(gt[v]):a.namespaceURI===Oe?f.namespaceURI===tt&&!Wt[D]||f.namespaceURI===et&&!zt[D]?!1:!gt[v]&&(Wr[v]||!rt[v]):!!(Fe==="application/xhtml+xml"&&pt[a.namespaceURI]):!1},Me=function(a){Xe(t.removed,{element:a});try{a.parentNode.removeChild(a)}catch{try{a.outerHTML=A}catch{a.remove()}}},yt=function(a,f){try{Xe(t.removed,{attribute:f.getAttributeNode(a),from:f})}catch{Xe(t.removed,{attribute:null,from:f})}if(f.removeAttribute(a),a==="is"&&!N[a])if(Ee||Be)try{Me(f)}catch{}else try{f.setAttribute(a,"")}catch{}},Yt=function(a){var f,v;if(J)a="<remove></remove>"+a;else{var D=dn(a,/^[\r\n\t ]+/);v=D&&D[0]}Fe==="application/xhtml+xml"&&Ue===Oe&&(a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>");var he=w?w.createHTML(a):a;if(Ue===Oe)try{f=new E().parseFromString(he,Fe)}catch{}if(!f||!f.documentElement){f=X.createDocument(Ue,"template",null);try{f.documentElement.innerHTML=vt?A:he}catch{}}var se=f.body||f.documentElement;return a&&v&&se.insertBefore(n.createTextNode(v),se.childNodes[0]||null),Ue===Oe?re.call(f,Z?"html":"body")[0]:Z?f.documentElement:se},Gt=function(a){return B.call(a.ownerDocument||a,a,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null,!1)},Gr=function(a){return a instanceof T&&(typeof a.nodeName!="string"||typeof a.textContent!="string"||typeof a.removeChild!="function"||!(a.attributes instanceof h)||typeof a.removeAttribute!="function"||typeof a.setAttribute!="function"||typeof a.namespaceURI!="string"||typeof a.insertBefore!="function"||typeof a.hasChildNodes!="function")},qe=function(a){return Pe(s)==="object"?a instanceof s:a&&Pe(a)==="object"&&typeof a.nodeType=="number"&&typeof a.nodeName=="string"},Ie=function(a,f,v){!O[a]||fn(O[a],function(D){D.call(t,f,v,ze)})},Vt=function(a){var f;if(Ie("beforeSanitizeElements",a,null),Gr(a)||ue(/[\u0080-\uFFFF]/,a.nodeName))return Me(a),!0;var v=ee(a.nodeName);if(Ie("uponSanitizeElement",a,{tagName:v,allowedTags:S}),a.hasChildNodes()&&!qe(a.firstElementChild)&&(!qe(a.content)||!qe(a.content.firstElementChild))&&ue(/<[/\w]/g,a.innerHTML)&&ue(/<[/\w]/g,a.textContent)||v==="select"&&ue(/<template/i,a.innerHTML))return Me(a),!0;if(!S[v]||de[v]){if(!de[v]&&Xt(v)&&(L.tagNameCheck instanceof RegExp&&ue(L.tagNameCheck,v)||L.tagNameCheck instanceof Function&&L.tagNameCheck(v)))return!1;if(Le&&!Ne[v]){var D=F(a)||a.parentNode,he=P(a)||a.childNodes;if(he&&D)for(var se=he.length,oe=se-1;oe>=0;--oe)D.insertBefore(C(he[oe],!0),_(a))}return Me(a),!0}return a instanceof c&&!Yr(a)||(v==="noscript"||v==="noembed")&&ue(/<\/no(script|embed)/i,a.innerHTML)?(Me(a),!0):($&&a.nodeType===3&&(f=a.textContent,f=Se(f,U," "),f=Se(f,q," "),f=Se(f,ne," "),a.textContent!==f&&(Xe(t.removed,{element:a.cloneNode()}),a.textContent=f)),Ie("afterSanitizeElements",a,null),!1)},qt=function(a,f,v){if(Je&&(f==="id"||f==="name")&&(v in n||v in zr))return!1;if(!(me&&!Re[f]&&ue(Q,f))){if(!(Ae&&ue(ae,f))){if(!N[f]||Re[f]){if(!(Xt(a)&&(L.tagNameCheck instanceof RegExp&&ue(L.tagNameCheck,a)||L.tagNameCheck instanceof Function&&L.tagNameCheck(a))&&(L.attributeNameCheck instanceof RegExp&&ue(L.attributeNameCheck,f)||L.attributeNameCheck instanceof Function&&L.attributeNameCheck(f))||f==="is"&&L.allowCustomizedBuiltInElements&&(L.tagNameCheck instanceof RegExp&&ue(L.tagNameCheck,v)||L.tagNameCheck instanceof Function&&L.tagNameCheck(v))))return!1}else if(!mt[f]){if(!ue(le,Se(v,ce,""))){if(!((f==="src"||f==="xlink:href"||f==="href")&&a!=="script"&&mn(v,"data:")===0&&pe[a])){if(!(I&&!ue(ie,Se(v,ce,"")))){if(v)return!1}}}}}}return!0},Xt=function(a){return a.indexOf("-")>0},Kt=function(a){var f,v,D,he;Ie("beforeSanitizeAttributes",a,null);var se=a.attributes;if(!!se){var oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:N};for(he=se.length;he--;){f=se[he];var nt=f,te=nt.name,bt=nt.namespaceURI;if(v=te==="value"?f.value:vn(f.value),D=ee(te),oe.attrName=D,oe.attrValue=v,oe.keepAttr=!0,oe.forceKeepAttr=void 0,Ie("uponSanitizeAttribute",a,oe),v=oe.attrValue,!oe.forceKeepAttr&&(yt(te,a),!!oe.keepAttr)){if(!K&&ue(/\/>/i,v)){yt(te,a);continue}$&&(v=Se(v,U," "),v=Se(v,q," "),v=Se(v,ne," "));var Qt=ee(a.nodeName);if(!!qt(Qt,D,v)){if(Ve&&(D==="id"||D==="name")&&(yt(te,a),v=dt+v),w&&Pe(p)==="object"&&typeof p.getAttributeType=="function"&&!bt)switch(p.getAttributeType(Qt,D)){case"TrustedHTML":v=w.createHTML(v);break;case"TrustedScriptURL":v=w.createScriptURL(v);break}try{bt?a.setAttributeNS(bt,te,v):a.setAttribute(te,v),er(t.removed)}catch{}}}}Ie("afterSanitizeAttributes",a,null)}},Vr=function b(a){var f,v=Gt(a);for(Ie("beforeSanitizeShadowDOM",a,null);f=v.nextNode();)Ie("uponSanitizeShadowNode",f,null),!Vt(f)&&(f.content instanceof o&&b(f.content),Kt(f));Ie("afterSanitizeShadowDOM",a,null)};return t.sanitize=function(b){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f,v,D,he,se;if(vt=!b,vt&&(b="<!-->"),typeof b!="string"&&!qe(b)){if(typeof b.toString!="function")throw Et("toString is not a function");if(b=b.toString(),typeof b!="string")throw Et("dirty is not a string, aborting")}if(!t.isSupported){if(Pe(e.toStaticHTML)==="object"||typeof e.toStaticHTML=="function"){if(typeof b=="string")return e.toStaticHTML(b);if(qe(b))return e.toStaticHTML(b.outerHTML)}return b}if(ve||ht(a),t.removed=[],typeof b=="string"&&(De=!1),De){if(b.nodeName){var oe=ee(b.nodeName);if(!S[oe]||de[oe])throw Et("root node is forbidden and cannot be sanitized in-place")}}else if(b instanceof s)f=Yt("<!---->"),v=f.ownerDocument.importNode(b,!0),v.nodeType===1&&v.nodeName==="BODY"||v.nodeName==="HTML"?f=v:f.appendChild(v);else{if(!Ee&&!$&&!Z&&b.indexOf("<")===-1)return w&&je?w.createHTML(b):b;if(f=Yt(b),!f)return Ee?null:je?A:""}f&&J&&Me(f.firstChild);for(var nt=Gt(De?b:f);D=nt.nextNode();)D.nodeType===3&&D===he||Vt(D)||(D.content instanceof o&&Vr(D.content),Kt(D),he=D);if(he=null,De)return b;if(Ee){if(Be)for(se=j.call(f.ownerDocument);f.firstChild;)se.appendChild(f.firstChild);else se=f;return(N.shadowroot||N.shadowrootmod)&&(se=V.call(r,se,!0)),se}var te=Z?f.outerHTML:f.innerHTML;return Z&&S["!doctype"]&&f.ownerDocument&&f.ownerDocument.doctype&&f.ownerDocument.doctype.name&&ue(xn,f.ownerDocument.doctype.name)&&(te="<!DOCTYPE "+f.ownerDocument.doctype.name+`>
`+te),$&&(te=Se(te,U," "),te=Se(te,q," "),te=Se(te,ne," ")),w&&je?w.createHTML(te):te},t.setConfig=function(b){ht(b),ve=!0},t.clearConfig=function(){ze=null,ve=!1},t.isValidAttribute=function(b,a,f){ze||ht({});var v=ee(b),D=ee(a);return qt(v,D,f)},t.addHook=function(b,a){typeof a=="function"&&(O[b]=O[b]||[],Xe(O[b],a))},t.removeHook=function(b){if(O[b])return er(O[b])},t.removeHooks=function(b){O[b]&&(O[b]=[])},t.removeAllHooks=function(){O={}},t}var Rr=xr();function kn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document.body,r=document.createElement("div");t.appendChild(r);var n=m.cloneElement(e,{onUnmount:function(){Zt.unmountComponentAtNode(r),t.removeChild(r)}});return Zt.render(n,r),r}function Nn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"click",r=i.exports.useRef();return i.exports.useEffect(function(){var n=function(l){var s=r.current;!s||s.contains(l.target)||e&&e(l)};return document.addEventListener(t,n),function(){document.removeEventListener(t,n)}},[t,e]),r}function On(e){var t=i.exports.useRef(null);return i.exports.useEffect(function(){!e||(typeof e=="function"?e(t.current):e.current=t.current)},[e]),t}function Pt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mn(e){if(Array.isArray(e))return Pt(e)}function In(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ar(e,t){if(!!e){if(typeof e=="string")return Pt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pt(e,t)}}function Ln(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xt(e){return Mn(e)||In(e)||Ar(e)||Ln()}function Dn(e){if(Array.isArray(e))return e}function Pn(e,t){var r=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,l,s,c=[],u=!0,d=!1;try{if(l=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=l.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(h){d=!0,o=h}finally{try{if(!u&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(d)throw o}}return c}}function Bn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e,t){return Dn(e)||Pn(e,t)||Ar(e,t)||Bn()}function We(e){return We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We(e)}function Fn(e,t){if(We(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(We(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kr(e){var t=Fn(e,"string");return We(t)==="symbol"?t:String(t)}function Ft(e,t,r){return t=kr(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(){var e=2147483648;return Math.floor(Math.random()*e).toString(36)+Math.abs(Math.floor(Math.random()*e)^Date.now()).toString(36)}function $n(e){return e.offsetHeight}function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?or(Object(r),!0).forEach(function(n){Ft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var jn=5*60*1e3,lr=0,Rt=function(t,r){var n=t.createdAt||Date.now(),o=t.hasTime||n-lr>jn;return o&&(lr=n),ir(ir({},t),{},{_id:t._id||r||Hn(),createdAt:n,position:t.position||"left",hasTime:o})},At="_TYPING_";function Un(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=i.exports.useMemo(function(){return e.map(function(p){return Rt(p)})},[e]),r=i.exports.useState(t),n=z(r,2),o=n[0],l=n[1],s=i.exports.useRef(!1),c=i.exports.useCallback(function(p){l(function(y){return[].concat(xt(p),xt(y))})},[]),u=i.exports.useCallback(function(p,y){l(function(C){return C.map(function(_){return _._id===p?Rt(y,p):_})})},[]),d=i.exports.useCallback(function(p){var y=Rt(p);s.current?(s.current=!1,u(At,y)):l(function(C){return[].concat(xt(C),[y])})},[u]),h=i.exports.useCallback(function(p){l(function(y){return y.filter(function(C){return C._id!==p})})},[]),T=i.exports.useCallback(function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l(p)},[]),E=i.exports.useCallback(function(p){p!==s.current&&(p?d({_id:At,type:"typing"}):h(At),s.current=p)},[d,h]);return{messages:o,prependMsgs:c,appendMsg:d,updateMsg:u,deleteMsg:h,resetList:T,setTyping:E}}function Nr(e){var t=e.active,r=t===void 0?!1:t,n=e.ref,o=e.delay,l=o===void 0?300:o,s=i.exports.useState(!1),c=z(s,2),u=c[0],d=c[1],h=i.exports.useState(!1),T=z(h,2),E=T[0],p=T[1],y=i.exports.useRef();return i.exports.useEffect(function(){r?(y.current&&clearTimeout(y.current),p(r)):(d(r),y.current=setTimeout(function(){p(r)},l))},[r,l]),i.exports.useEffect(function(){n.current&&$n(n.current),d(E)},[E,n]),{didMount:E,isShow:u}}function Te(e,t){if(e==null)return{};var r=qr(e,t),n,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kr(n.key),n)}}function Wn(e,t,r){return t&&sr(e.prototype,t),r&&sr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xr(e,t)}function Gn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(e,t){if(t&&(We(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gn(e)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ft(e)}var qn=["FallbackComponent","children"];function Xn(e){var t=Kn();return function(){var n=ft(e),o;if(t){var l=ft(this).constructor;o=Reflect.construct(n,arguments,l)}else o=n.apply(this,arguments);return Vn(this,o)}}function Kn(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}m.Component;var Qn=function(t){var r=t.className,n=t.src,o=t.alt,l=t.url,s=t.size,c=s===void 0?"md":s,u=t.shape,d=u===void 0?"circle":u,h=t.children,T=l?"a":"span";return m.createElement(T,{className:W("Avatar","Avatar--".concat(c),"Avatar--".concat(d),r),href:l},n?m.createElement("img",{src:n,alt:o}):h)},Zn=["className","active","onClick"],Jn=function(t){var r=t.className,n=t.active,o=t.onClick,l=Te(t,Zn);return m.createElement("div",we({className:W("Backdrop",r,{active:n}),onClick:o,role:"button",tabIndex:-1,"aria-hidden":!0},l))},ea=["type","content","children"],Or=function(t){var r=t.type,n=r===void 0?"text":r,o=t.content,l=t.children,s=Te(t,ea);return m.createElement("div",we({className:"Bubble ".concat(n),"data-type":n},s),o&&m.createElement("p",null,o),l)},ta=["type","className","spin","name"],ye=function(t){var r=t.type,n=t.className,o=t.spin,l=t.name,s=Te(t,ta),c=typeof l=="string"?{"aria-label":l}:{"aria-hidden":!0};return m.createElement("svg",we({className:W("Icon",{"is-spin":o},n)},c,s),m.createElement("use",{xlinkHref:"#icon-".concat(r)}))},ra=["className","label","color","variant","size","icon","loading","block","disabled","children","onClick"];function kt(e){return e&&"Btn--".concat(e)}var Ge=function(t){var r=t.className,n=t.label,o=t.color,l=t.variant,s=t.size,c=t.icon,u=t.loading,d=t.block,h=t.disabled,T=t.children,E=t.onClick,p=Te(t,ra),y=c||u&&"spinner",C=s||(d?"lg":"");function _(P){!h&&!u&&E&&E(P)}return m.createElement("button",we({className:W("Btn",kt(o),kt(l),kt(C),{"Btn--block":d},r),type:"button",disabled:h,onClick:_},p),y&&m.createElement("span",{className:"Btn-icon"},m.createElement(ye,{type:y,spin:u})),n||T)},na=["as","className","inline","center","direction","wrap","justifyContent","justify","alignItems","align","children"],aa={row:"Flex--d-r","row-reverse":"Flex--d-rr",column:"Flex--d-c","column-reverse":"Flex--d-cr"},oa={nowrap:"Flex--w-n",wrap:"Flex--w-w","wrap-reverse":"Flex--w-wr"},ia={"flex-start":"Flex--jc-fs","flex-end":"Flex--jc-fe",center:"Flex--jc-c","space-between":"Flex--jc-sb","space-around":"Flex--jc-sa"},la={"flex-start":"Flex--ai-fs","flex-end":"Flex--ai-fe",center:"Flex--ai-c"},Ht=m.forwardRef(function(e,t){var r=e.as,n=r===void 0?"div":r,o=e.className,l=e.inline,s=e.center,c=e.direction,u=e.wrap,d=e.justifyContent,h=e.justify,T=h===void 0?d:h,E=e.alignItems,p=e.align,y=p===void 0?E:p,C=e.children,_=Te(e,na);return m.createElement(n,we({className:W("Flex",c&&aa[c],T&&ia[T],y&&la[y],u&&oa[u],{"Flex--inline":l,"Flex--center":s},o),ref:t},_),C)}),sa=function(t,r){t.style.transform=r,t.style.webkitTransform=r},ca={passiveListener:function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,r)}catch{}return t},smoothScroll:function(){return"scrollBehavior"in document.documentElement.style},touch:function(){return"ontouchstart"in window}};function $e(e){return ca[e]()}$e("touch");var ua=["children","onClick","mouseEvent"],Bt=document,fa=Bt.documentElement,da=function(t){var r=t.children,n=t.onClick,o=t.mouseEvent,l=o===void 0?"mouseup":o,s=Te(t,ua),c=i.exports.useRef(null);function u(d){!c.current||fa.contains(d.target)&&!c.current.contains(d.target)&&n(d)}return i.exports.useEffect(function(){return l&&Bt.addEventListener(l,u),function(){Bt.removeEventListener(l,u)}}),g("div",{ref:c,...s,children:r})},ma=m.createContext(""),va=["className","icon","img"],Ye=function(t){var r=t.className,n=t.icon,o=t.img,l=Te(t,va);return m.createElement(Ge,we({className:W("IconBtn",r)},l),n&&m.createElement(ye,{type:n}),!n&&o&&m.createElement("img",{src:o,alt:""}))};function pa(e){return e.scrollHeight-e.scrollTop-e.offsetHeight}var ha=["className","type","variant","value","placeholder","rows","minRows","maxRows","maxLength","showCount","multiline","autoSize","onChange"];function ga(e,t){return"".concat("".concat(e).length).concat(t?"/".concat(t):"")}var ya=m.forwardRef(function(e,t){var r=e.className,n=e.type,o=n===void 0?"text":n,l=e.variant,s=e.value,c=e.placeholder,u=e.rows,d=u===void 0?1:u,h=e.minRows,T=h===void 0?d:h,E=e.maxRows,p=E===void 0?5:E,y=e.maxLength,C=e.showCount,_=C===void 0?!!y:C,P=e.multiline,F=e.autoSize,R=e.onChange,w=Te(e,ha),A=d;A<T?A=T:A>p&&(A=p);var H=i.exports.useState(A),X=z(H,2),B=X[0],j=X[1],re=i.exports.useState(21),V=z(re,2),x=V[0],O=V[1],U=On(t),q=i.exports.useContext(ma),ne=l||(q==="light"?"flushed":"outline"),Q=P||F||d>1,ae=Q?"textarea":"input";i.exports.useEffect(function(){if(!!U.current){var S=getComputedStyle(U.current,null).lineHeight,G=Number(S.replace("px",""));G!==x&&O(G)}},[U,x]);var ie=i.exports.useCallback(function(){if(!(!F||!U.current)){var S=U.current,G=S.rows;S.rows=T,c&&(S.placeholder="");var N=~~(S.scrollHeight/x);N===G&&(S.rows=N),N>=p&&(S.rows=p,S.scrollTop=S.scrollHeight),j(N<p?N:p),c&&(S.placeholder=c)}},[F,U,x,p,T,c]);i.exports.useEffect(function(){s===""?j(A):ie()},[A,ie,s]);var ce=i.exports.useCallback(function(S){if(ie(),R){var G=S.target.value,N=y&&G.length>y,ge=N?G.substr(0,y):G;R(ge,S)}},[y,R,ie]),le=g(ae,{className:W("Input","Input--".concat(ne),r),type:o,value:s,placeholder:c,maxLength:y,ref:U,rows:B,onChange:ce,...w});return _?Y("div",{className:W("InputWrapper",{"has-counter":_}),children:[le,_&&g("div",{className:"Input-counter",children:ga(s,y)})]}):le}),ba={BackBottom:{newMsgOne:"{n} \u0631\u0633\u0627\u0644\u0629 \u062C\u062F\u064A\u062F\u0629",newMsgOther:"{n} \u0631\u0633\u0627\u0644\u0629 \u062C\u062F\u064A\u062F\u0629",bottom:"\u0627\u0644\u0623\u0633\u0641\u0644"},Time:{weekdays:"\u0627\u0644\u0623\u062D\u062F_\u0627\u0644\u0625\u062B\u0646\u064A\u0646_\u0627\u0644\u062B\u0644\u0627\u062B\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062E\u0645\u064A\u0633_\u0627\u0644\u062C\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062A".split("_"),formats:{LT:"HH:mm",lll:"YYYY/M/D HH:mm",WT:"HH:mm dddd",YT:"HH:mm \u0623\u0645\u0633"}},Composer:{send:"\u0625\u0631\u0633\u0627\u0644"},SendConfirm:{title:"\u0625\u0631\u0633\u0627\u0644 \u0635\u0648\u0631\u0629",send:"\u0623\u0631\u0633\u0644",cancel:"\u0625\u0644\u063A\u0627\u0621"},RateActions:{up:"\u0627\u0644\u062A\u0635\u0648\u064A\u062A",down:"\u062A\u0635\u0648\u064A\u062A \u0633\u0644\u0628\u064A"},Recorder:{hold2talk:"\u0623\u0633\u062A\u0645\u0631 \u0628\u0627\u0644\u0636\u063A\u0637 \u0644\u062A\u062A\u062D\u062F\u062B",release2send:"\u062D\u0631\u0631 \u0644\u0644\u0625\u0631\u0633\u0627\u0644",releaseOrSwipe:"\u062D\u0631\u0631 \u0644\u0644\u0625\u0631\u0633\u0627\u0644 \u060C \u0627\u0633\u062D\u0628 \u0644\u0623\u0639\u0644\u0649 \u0644\u0644\u0625\u0644\u063A\u0627\u0621",release2cancel:"\u062D\u0631\u0631 \u0644\u0644\u0625\u0644\u063A\u0627\u0621"},Search:{search:"\u064A\u0628\u062D\u062B"}},Ta={BackBottom:{newMsgOne:"{n} new message",newMsgOther:"{n} new messages",bottom:"Bottom"},Time:{weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),formats:{LT:"HH:mm",lll:"M/D/YYYY HH:mm",WT:"dddd HH:mm",YT:"Yesterday HH:mm"}},Composer:{send:"Send"},SendConfirm:{title:"Send photo",send:"Send",cancel:"Cancel"},RateActions:{up:"Up vote",down:"Down vote"},Recorder:{hold2talk:"Hold to Talk",release2send:"Release to Send",releaseOrSwipe:"Release to send, swipe up to cancel",release2cancel:"Release to cancel"},Search:{search:"Search"}},Ea={BackBottom:{newMsgOne:"{n}\xA0nouveau message",newMsgOther:"{n}\xA0nouveau messages",bottom:"Fond"},Time:{weekdays:"Dimanche_Lundi_Mardi_Mercredi_Jeudi_Vendredi_Samedi".split("_"),formats:{LT:"HH:mm",lll:"D/M/YYYY HH:mm",WT:"dddd HH:mm",YT:"Hier HH:mm"}},Composer:{send:"Envoyer"},SendConfirm:{title:"Envoyer une photo",send:"Envoyer",cancel:"Annuler"},RateActions:{up:"Voter pour",down:"Vote n\xE9gatif"},Recorder:{hold2talk:"Tenir pour parler",release2send:"Lib\xE9rer pour envoyer",releaseOrSwipe:"Rel\xE2chez pour envoyer, balayez vers le haut pour annuler",release2cancel:"Rel\xE2cher pour annuler"},Search:{search:"Chercher"}},_a={BackBottom:{newMsgOne:"{n}\u6761\u65B0\u6D88\u606F",newMsgOther:"{n}\u6761\u65B0\u6D88\u606F",bottom:"\u56DE\u5230\u5E95\u90E8"},Time:{weekdays:"\u661F\u671F\u65E5_\u661F\u671F\u4E00_\u661F\u671F\u4E8C_\u661F\u671F\u4E09_\u661F\u671F\u56DB_\u661F\u671F\u4E94_\u661F\u671F\u516D".split("_"),formats:{LT:"HH:mm",lll:"YYYY\u5E74M\u6708D\u65E5 HH:mm",WT:"dddd HH:mm",YT:"\u6628\u5929 HH:mm"}},Composer:{send:"\u53D1\u9001"},SendConfirm:{title:"\u53D1\u9001\u56FE\u7247",send:"\u53D1\u9001",cancel:"\u53D6\u6D88"},RateActions:{up:"\u8D5E\u540C",down:"\u53CD\u5BF9"},Recorder:{hold2talk:"\u6309\u4F4F \u8BF4\u8BDD",release2send:"\u677E\u5F00 \u53D1\u9001",releaseOrSwipe:"\u677E\u5F00\u53D1\u9001\uFF0C\u4E0A\u6ED1\u53D6\u6D88",release2cancel:"\u677E\u5F00\u624B\u6307\uFF0C\u53D6\u6D88\u53D1\u9001"},Search:{search:"\u641C\u7D22"}},cr={"ar-EG":ba,"fr-FR":Ea,"en-US":Ta,"zh-CN":_a};function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ur(Object(r),!0).forEach(function(n){Ft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var Mr=m.createContext(void 0),Ir="en-US",Lr=function(t){var r=t.locale,n=t.locales,o=t.children;return g(Mr.Provider,{value:{locale:r,locales:n},children:o})};Lr.defaultProps={locale:Ir};var Ze=function(t,r){var n=i.exports.useContext(Mr),o=n||{},l=o.locale,s=o.locales,c=l&&cr[l]||cr[Ir],u=s?fr(fr({},c),s):c;return!n&&r?u=r:t&&(u=u[t]||{}),{locale:l,trans:function(h){return h?u[h]:u}}},Sa=function(t){var r=t.className,n=t.content,o=t.action;return m.createElement("div",{className:W("Message SystemMessage",r)},m.createElement("div",{className:"SystemMessage-inner"},m.createElement("span",null,n),o&&m.createElement("a",{href:"javascript:;",onClick:o.onClick},o.text)))},Ca=/YYYY|M|D|dddd|HH|mm/g,Dr=24*60*60*1e3,wa=Dr*7,xa=function(t){return t instanceof Date?t:new Date(t)},Ra=function(){return new Date(new Date().setHours(0,0,0,0))},dr=function(t){return(t<=9?"0":"")+t},Aa=function(t){var r=Ra().getTime()-t.getTime();return r<0?"LT":r<Dr?"YT":r<wa?"WT":"lll"};function ka(e,t){var r=xa(e),n=t.formats[Aa(r)],o={YYYY:"".concat(r.getFullYear()),M:"".concat(r.getMonth()+1),D:"".concat(r.getDate()),dddd:t.weekdays[r.getDay()],HH:dr(r.getHours()),mm:dr(r.getMinutes())};return n.replace(Ca,function(l){return o[l]})}var Na=function(t){var r=t.date,n=Ze("Time"),o=n.trans;return m.createElement("time",{className:"Time",dateTime:new Date(r).toJSON()},ka(r,o()))};function Oa(){return m.createElement(Or,{type:"typing"},m.createElement("div",{className:"Typing","aria-busy":"true"},m.createElement("div",{className:"Typing-dot"}),m.createElement("div",{className:"Typing-dot"}),m.createElement("div",{className:"Typing-dot"})))}var Ma=["renderMessageContent"],Ia=function(t){var r=t.renderMessageContent,n=r===void 0?function(){return null}:r,o=Te(t,Ma),l=o.type,s=o.content,c=o.user,u=c===void 0?{}:c,d=o._id,h=o.position,T=h===void 0?"left":h,E=o.hasTime,p=E===void 0?!0:E,y=o.createdAt,C=u.name,_=u.avatar;if(l==="system")return m.createElement(Sa,{content:s.text,action:s.action});var P=T==="right"||T==="left";return m.createElement("div",{className:W("Message",T),"data-id":d,"data-type":l},p&&y&&m.createElement("div",{className:"Message-meta"},m.createElement(Na,{date:y})),m.createElement("div",{className:"Message-main"},P&&_&&m.createElement(Qn,{src:_,alt:C,url:u.url}),m.createElement("div",{className:"Message-inner"},P&&C&&m.createElement("div",{className:"Message-author"},C),m.createElement("div",{className:"Message-content",role:"alert","aria-live":"assertive","aria-atomic":"false"},l==="typing"?m.createElement(Oa,null):n(o)))))},La=m.memo(Ia),Da=0,Pa=function(){return Da++};function Ba(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"id-",t=i.exports.useRef("".concat(e).concat(Pa()));return t.current}var Qe=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document.body;r.classList[t?"add":"remove"](e)};function mr(){!document.querySelector(".Modal")&&!document.querySelector(".Popup")&&Qe("S--modalOpen",!1)}var Fa=function(t){var r=t.baseClass,n=t.active,o=t.className,l=t.title,s=t.showClose,c=s===void 0?!0:s,u=t.autoFocus,d=u===void 0?!0:u,h=t.backdrop,T=h===void 0?!0:h,E=t.height,p=t.overflow,y=t.actions,C=t.vertical,_=C===void 0?!0:C,P=t.btnVariant,F=t.bgColor,R=t.children,w=t.onBackdropClick,A=t.onClose,H=Ba("modal-"),X=t.titleId||H,B=i.exports.useRef(null),j=Nr({active:n,ref:B}),re=j.didMount,V=j.isShow;if(i.exports.useEffect(function(){setTimeout(function(){d&&B.current&&B.current.focus()})},[d]),i.exports.useEffect(function(){V&&Qe("S--modalOpen",V)},[V]),i.exports.useEffect(function(){!n&&!re&&mr()},[n,re]),i.exports.useEffect(function(){return function(){mr()}},[]),!re)return null;var x=r==="Popup";return Sr.exports.createPortal(Y("div",{className:W(r,o,{active:V}),ref:B,tabIndex:-1,children:[T&&g(Jn,{active:V,onClick:T===!0?w||A:void 0}),g("div",{className:W("".concat(r,"-dialog"),{"pb-safe":x&&!y}),"data-bg-color":F,"data-height":x&&E?E:void 0,role:"dialog","aria-labelledby":X,"aria-modal":!0,children:Y("div",{className:"".concat(r,"-content"),children:[Y("div",{className:"".concat(r,"-header"),children:[g("h5",{className:"".concat(r,"-title"),id:X,children:l}),c&&A&&g(Ye,{className:"".concat(r,"-close"),icon:"close",size:"lg",onClick:A,"aria-label":"\u5173\u95ED"})]}),g("div",{className:W("".concat(r,"-body"),{overflow:p}),children:R}),y&&g("div",{className:"".concat(r,"-footer ").concat(r,"-footer--").concat(_?"v":"h"),"data-variant":P||"round",children:y.map(function(O){return i.exports.createElement(Ge,{size:"lg",block:x,variant:P,...O,key:O.label})})})]})})]}),document.body)},Ha=function(t){return m.createElement(Fa,we({baseClass:"Modal",btnVariant:t.vertical===!1?void 0:"outline"},t))},$a=function(t){var r=t.className,n=t.title,o=t.logo,l=t.leftContent,s=t.rightContent,c=s===void 0?[]:s;return m.createElement("header",{className:W("Navbar",r)},m.createElement("div",{className:"Navbar-left"},l&&m.createElement(Ye,we({size:"lg"},l))),m.createElement("div",{className:"Navbar-main"},o?m.createElement("img",{className:"Navbar-logo",src:o,alt:n}):m.createElement("h2",{className:"Navbar-title"},n)),m.createElement("div",{className:"Navbar-right"},c.map(function(u){return m.createElement(Ye,we({size:"lg"},u,{key:u.icon}))})))};"Intl"in window&&Intl.NumberFormat.prototype.formatToParts;var vr=requestAnimationFrame;function ja(e){var t=e.el,r=e.to,n=e.duration,o=n===void 0?300:n,l=e.x,s=0,c=l?"scrollLeft":"scrollTop",u=t[c],d=Math.round(o/16),h=(r-u)/d;if(!vr){t[c]=r;return}function T(){t[c]+=h,++s<d&&vr(T)}T()}var Pr=$e("passiveListener"),Ua=Pr?{passive:!0}:!1,za=Pr?{passive:!1}:!1,Wa=m.forwardRef(function(e,t){var r=e.distance,n=r===void 0?30:r,o=e.loadingDistance,l=o===void 0?30:o,s=e.maxDistance,c=e.distanceRatio,u=c===void 0?2:c,d=e.loadMoreText,h=d===void 0?"\u70B9\u51FB\u52A0\u8F7D\u66F4\u591A":d,T=e.children,E=e.onScroll,p=e.onRefresh,y=e.renderIndicator,C=y===void 0?function(I){return I==="active"||I==="loading"?g(ye,{className:"PullToRefresh-spinner",type:"spinner",spin:!0}):null}:y,_=i.exports.useRef(null),P=i.exports.useRef(null),F=i.exports.useState(0),R=z(F,2),w=R[0],A=R[1],H=i.exports.useState("pending"),X=z(H,2),B=X[0],j=X[1],re=i.exports.useState(!1),V=z(re,2),x=V[0],O=V[1],U=i.exports.useState(!e.onRefresh),q=z(U,2),ne=q[0],Q=q[1],ae=i.exports.useRef({}),ie=i.exports.useRef(B),ce=i.exports.useRef(),le=i.exports.useRef(),S=!$e("touch");i.exports.useEffect(function(){ie.current=B},[B]);var G=function(K){var $=P.current;$&&sa($,"translate3d(0px,".concat(K,"px,0)"))},N=function(K){var $=K.y,Z=K.animated,ve=Z===void 0?!0:Z,J=_.current;if(!!J){var Ee=$==="100%"?J.scrollHeight-J.offsetHeight:$;ve?ja({el:J,to:Ee,x:!1}):J.scrollTop=Ee}},ge=i.exports.useCallback(function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=I.animated,$=K===void 0?!0:K;N({y:"100%",animated:$})},[]),L=i.exports.useCallback(function(){A(0),j("pending"),G(0)},[]),de=i.exports.useCallback(function(){var I=_.current;if(!!I){j("loading");try{var K=I.scrollHeight;p().then(function($){var Z=function(){N({y:I.scrollHeight-K-50,animated:!1})};clearTimeout(ce.current),clearTimeout(le.current),Z(),ce.current=setTimeout(Z,150),le.current=setTimeout(Z,250),L(),$&&$.noMore&&Q(!0)})}catch($){console.error($),L()}}},[p,L]),Re=function(K){ae.current.startY=K.touches[0].clientY,ae.current.canPull=_.current&&_.current.scrollTop<=0,ae.current.canPull&&(j("pull"),O(!1))},Ae=i.exports.useCallback(function(I){var K=I.touches[0].clientY,$=ae.current,Z=$.canPull,ve=$.startY;if(!(!Z||K<ve||ie.current==="loading")){var J=(K-ve)/u;s&&J>s&&(J=s),J>0&&(I.cancelable&&I.preventDefault(),I.stopPropagation(),G(J),A(J),j(J>=n?"active":"pull"))}},[u,s,n]),me=i.exports.useCallback(function(){O(!0),ie.current==="active"?de():L()},[de,L]);return i.exports.useEffect(function(){var I=_.current;!I||S||(ne?(I.removeEventListener("touchstart",Re),I.removeEventListener("touchmove",Ae),I.removeEventListener("touchend",me),I.removeEventListener("touchcancel",me)):(I.addEventListener("touchstart",Re,Ua),I.addEventListener("touchmove",Ae,za),I.addEventListener("touchend",me),I.addEventListener("touchcancel",me)))},[ne,me,Ae,S]),i.exports.useEffect(function(){B==="loading"&&!S&&G(l)},[l,B,S]),i.exports.useImperativeHandle(t,function(){return{scrollTo:N,scrollToEnd:ge,wrapperRef:_}},[ge]),g("div",{className:"PullToRefresh",ref:_,onScroll:E,children:g("div",{className:"PullToRefresh-inner",children:Y("div",{className:W("PullToRefresh-content",{"PullToRefresh-transition":x}),ref:P,children:[g("div",{className:"PullToRefresh-indicator",children:C(B,w)}),!ne&&S&&Y(Ht,{className:"PullToRefresh-fallback",center:!0,children:[C(B,n),g(Ge,{className:"PullToRefresh-loadMore",variant:"text",onClick:de,children:h})]}),m.Children.only(T)]})})})}),Ya={threshold:[0,.1]},pr=function(t){var r=t.item,n=t.effect,o=t.children,l=t.onIntersect,s=i.exports.useRef(null);return i.exports.useEffect(function(){if(!!l){var c=new IntersectionObserver(function(u){var d=z(u,1),h=d[0];h.intersectionRatio>0&&(l(r,h)||c.unobserve(h.target))},Ya);return s.current&&c.observe(s.current),function(){c.disconnect()}}},[r,l]),g("div",{className:W("ScrollView-item",{"slide-in-right-item":n==="slide","A-fadeIn":n==="fade"}),ref:s,children:o})},Ga=["className","fullWidth","scrollX","effect","data","itemKey","renderItem","onIntersect","onScroll","children"],Nt=!$e("touch"),Va=m.forwardRef(function(e,t){var r=e.className,n=e.fullWidth,o=e.scrollX,l=o===void 0?!0:o,s=e.effect,c=s===void 0?"slide":s,u=e.data,d=e.itemKey,h=e.renderItem,T=e.onIntersect,E=e.onScroll,p=e.children,y=Te(e,Ga),C=i.exports.useRef(null);function _(){var R=C.current;R.scrollLeft-=R.offsetWidth}function P(){var R=C.current;R.scrollLeft+=R.offsetWidth}var F=i.exports.useCallback(function(R,w){var A;return d&&(A=typeof d=="function"?d(R,w):R[d]),A||w},[d]);return i.exports.useImperativeHandle(t,function(){return{scrollTo:function(w){var A=w.x,H=w.y;A!=null&&(C.current.scrollLeft=A),H!=null&&(C.current.scrollTop=H)}}}),Y("div",{className:W("ScrollView",{"ScrollView--fullWidth":n,"ScrollView--x":l,"ScrollView--hasControls":Nt},r),ref:t,...y,children:[Nt&&g(Ye,{className:"ScrollView-control",icon:"chevron-left","aria-label":"Previous",onClick:_}),g("div",{className:"ScrollView-scroller",ref:C,onScroll:E,children:Y("div",{className:"ScrollView-inner",children:[u.map(function(R,w){return g(pr,{item:R,effect:R.effect||c,onIntersect:T,children:h(R,w)},F(R,w))}),p?g(pr,{item:{},effect:c,onIntersect:T,children:p}):null]})}),Nt&&g(Ye,{className:"ScrollView-control",icon:"chevron-right","aria-label":"Next",onClick:P})]})}),qa=function(t){var r=t.item,n=t.index,o=t.onClick;function l(){o(r,n)}return m.createElement("button",{className:W("QuickReply",{new:r.isNew,highlight:r.isHighlight}),type:"button","data-code":r.code,"aria-label":"\u5FEB\u6377\u77ED\u8BED: ".concat(r.name,"\uFF0C\u53CC\u51FB\u53D1\u9001"),onClick:l},m.createElement("div",{className:"QuickReply-inner"},r.icon&&m.createElement(ye,{type:r.icon}),r.img&&m.createElement("img",{className:"QuickReply-img",src:r.img,alt:""}),m.createElement("span",null,r.name)))},Br=function(t){var r=t.items,n=t.visible,o=t.onClick,l=t.onScroll,s=i.exports.useRef(null),c=i.exports.useState(!!l),u=z(c,2),d=u[0],h=u[1];return i.exports.useLayoutEffect(function(){var T;return s.current&&(h(!1),s.current.scrollTo({x:0,y:0}),T=setTimeout(function(){h(!0)},500)),function(){clearTimeout(T)}},[r]),r.length?g(Va,{className:"QuickReplies",data:r,itemKey:"name",ref:s,"data-visible":n,onScroll:d?l:void 0,renderItem:function(E,p){return g(qa,{item:E,index:p,onClick:o},E.name)}}):null};Br.defaultProps={items:[],visible:!0};var Xa=m.memo(Br);Rr.addHook("beforeSanitizeAttributes",function(e){if(e instanceof HTMLElement&&e.hasAttribute("href")){var t=e.getAttribute("href");t&&(e.dataset.cuiHref=t),e.getAttribute("target")==="_blank"&&(e.dataset.cuiTarget="1")}});Rr.addHook("afterSanitizeAttributes",function(e){e instanceof HTMLElement&&(e.dataset.cuiHref&&e.hasAttribute("href")&&e.removeAttribute("data-cui-href"),e.dataset.cuiTarget&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"),e.removeAttribute("data-cui-target")))});function Ka(e){switch(e){case"success":return g(ye,{type:"check-circle"});case"error":return g(ye,{type:"warning-circle"});case"loading":return g(ye,{type:"spinner",spin:!0});default:return null}}var Qa=function(t){var r=t.content,n=t.type,o=t.duration,l=t.onUnmount,s=i.exports.useState(!1),c=z(s,2),u=c[0],d=c[1];return i.exports.useEffect(function(){d(!0),o!==-1&&(setTimeout(function(){d(!1)},o),setTimeout(function(){l&&l()},o+300))},[o,l]),g("div",{className:W("Toast",{show:u}),"data-type":n,role:"alert","aria-live":"assertive","aria-atomic":"true",children:Y("div",{className:"Toast-content",role:"presentation",children:[Ka(n),g("p",{className:"Toast-message",children:r})]})})};function it(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2e3;kn(m.createElement(Qa,{content:e,type:t,duration:r}))}var Za={show:it,success:function(t,r){it(t,"success",r)},fail:function(t,r){it(t,"error",r)},loading:function(t,r){it(t,"loading",r)}},Ja=function(t){var r=t.item,n=t.onClick,o=r.type,l=r.icon,s=r.img,c=r.title;return m.createElement("div",{className:"Toolbar-item","data-type":o},m.createElement(Ge,{className:"Toolbar-btn",onClick:function(d){return n(r,d)}},m.createElement("span",{className:"Toolbar-btnIcon"},l&&m.createElement(ye,{type:l}),s&&m.createElement("img",{className:"Toolbar-img",src:s,alt:""})),m.createElement("span",{className:"Toolbar-btnText"},c)))},eo=function(t){var r=t.items,n=t.onClick;return m.createElement("div",{className:"Toolbar"},r.map(function(o){return m.createElement(Ja,{item:o,onClick:n,key:o.type})}))},to=function(t){var r=t.count,n=t.onClick,o=t.onDidMount,l=Ze("BackBottom"),s=l.trans,c=s("bottom");return r&&(c=s(r===1?"newMsgOne":"newMsgOther").replace("{n}",r)),i.exports.useEffect(function(){o&&o()},[o]),g("div",{className:"BackBottom",children:Y(Ge,{className:"slide-in-right-item",onClick:n,children:[c,g(ye,{type:"chevron-double-down"})]})})};function ro(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:300,r=!0;return function(){!r||(r=!1,e.apply(void 0,arguments),setTimeout(function(){r=!0},t))}}var hr=$e("passiveListener")?{passive:!0}:!1;function Ot(e,t){var r=Math.max(e.offsetHeight,600);return pa(e)<r*t}var no=m.forwardRef(function(e,t){var r=e.messages,n=e.loadMoreText,o=e.onRefresh,l=e.onScroll,s=e.renderBeforeMessageList,c=e.renderMessageContent,u=e.onBackBottomShow,d=e.onBackBottomClick,h=i.exports.useState(!1),T=z(h,2),E=T[0],p=T[1],y=i.exports.useState(0),C=z(y,2),_=C[0],P=C[1],F=i.exports.useRef(E),R=i.exports.useRef(_),w=i.exports.useRef(null),A=i.exports.useRef(null),H=r[r.length-1],X=function(){P(0),p(!1)},B=i.exports.useCallback(function(x){A.current&&(!F.current||x&&x.force)&&(A.current.scrollToEnd(x),F.current&&X())},[]),j=function(){B({animated:!1,force:!0}),d&&d()},re=i.exports.useRef(ro(function(x){Ot(x,3)?R.current?Ot(x,.5)&&X():p(!1):p(!0)})),V=function(O){re.current(O.target),l&&l(O)};return i.exports.useEffect(function(){R.current=_},[_]),i.exports.useEffect(function(){F.current=E},[E]),i.exports.useEffect(function(){var x=A.current,O=x&&x.wrapperRef.current;if(!(!O||!H||H.position==="pop"))if(H.position==="right")B({force:!0});else if(Ot(O,2)){var U=!!O.scrollTop;B({animated:U,force:!0})}else P(function(q){return q+1}),p(!0)},[H,B]),i.exports.useEffect(function(){var x=w.current,O=!1,U=0;function q(){O=!1,U=0}function ne(ae){var ie=document,ce=ie.activeElement;ce&&ce.nodeName==="TEXTAREA"&&(O=!0,U=ae.touches[0].clientY)}function Q(ae){O&&Math.abs(ae.touches[0].clientY-U)>20&&(document.activeElement.blur(),q())}return x.addEventListener("touchstart",ne,hr),x.addEventListener("touchmove",Q,hr),x.addEventListener("touchend",q),x.addEventListener("touchcancel",q),function(){x.removeEventListener("touchstart",ne),x.removeEventListener("touchmove",Q),x.removeEventListener("touchend",q),x.removeEventListener("touchcancel",q)}},[]),i.exports.useImperativeHandle(t,function(){return{ref:w,scrollToEnd:B}},[B]),Y("div",{className:"MessageContainer",ref:w,tabIndex:-1,children:[s&&s(),g(Wa,{onRefresh:o,onScroll:V,loadMoreText:n,ref:A,children:g("div",{className:"MessageList",children:r.map(function(x){return i.exports.createElement(La,{...x,renderMessageContent:c,key:x._id})})})}),E&&g(to,{count:_,onClick:j,onDidMount:u})]})}),Fr=$e("passiveListener"),ao=Fr?{passive:!0}:!1,oo=Fr?{passive:!1}:!1,gr=80,io={inited:"hold2talk",recording:"release2send",willCancel:"release2send"},Ke=0,Mt=0,lo=m.forwardRef(function(e,t){var r=e.volume,n=e.onStart,o=e.onEnd,l=e.onCancel,s=i.exports.useState("inited"),c=z(s,2),u=c[0],d=c[1],h=i.exports.useRef(null),T=Ze("Recorder"),E=T.trans,p=i.exports.useCallback(function(){var _=Date.now()-Ke;o&&o({duration:_})},[o]);i.exports.useImperativeHandle(t,function(){return{stop:function(){d("inited"),p(),Ke=0}}}),i.exports.useEffect(function(){var _=h.current;function P(w){w.cancelable&&w.preventDefault();var A=w.touches[0];Mt=A.pageY,Ke=Date.now(),d("recording"),n&&n()}function F(w){if(!!Ke){var A=w.touches[0].pageY,H=Mt-A>gr;d(H?"willCancel":"recording")}}function R(w){if(!!Ke){var A=w.changedTouches[0].pageY,H=Mt-A<gr;d("inited"),H?p():l&&l()}}return _.addEventListener("touchstart",P,oo),_.addEventListener("touchmove",F,ao),_.addEventListener("touchend",R),_.addEventListener("touchcancel",R),function(){_.removeEventListener("touchstart",P),_.removeEventListener("touchmove",F),_.removeEventListener("touchend",R),_.removeEventListener("touchcancel",R)}},[p,l,n]);var y=u==="willCancel",C={transform:"scale(".concat((r||1)/100+1,")")};return Y("div",{className:W("Recorder",{"Recorder--cancel":y}),ref:h,children:[u!=="inited"&&Y(Ht,{className:"RecorderToast",direction:"column",center:!0,children:[Y("div",{className:"RecorderToast-waves",hidden:u!=="recording",style:C,children:[g(ye,{className:"RecorderToast-wave-1",type:"hexagon"}),g(ye,{className:"RecorderToast-wave-2",type:"hexagon"}),g(ye,{className:"RecorderToast-wave-3",type:"hexagon"})]}),g(ye,{className:"RecorderToast-icon",type:y?"cancel":"mic"}),g("span",{children:E(y?"release2cancel":"releaseOrSwipe")})]}),g("div",{className:"Recorder-btn",role:"button","aria-label":E("hold2talk"),children:g("span",{children:E(io[u])})})]})}),so=function(t){var r=t.onClickOutside,n=t.children;return m.createElement(da,{onClick:r},n)};function co(e){var t=i.exports.useRef(!1);i.exports.useEffect(function(){function r(){e(),t.current=!1}function n(){t.current||(t.current=!0,window.requestAnimationFrame?window.requestAnimationFrame(r):setTimeout(r,66))}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}},[e])}var uo=function(t){var r=t.className,n=t.active,o=t.target,l=t.children,s=t.onClose,c=Nn(s,"mousedown"),u=Nr({active:n,ref:c}),d=u.didMount,h=u.isShow,T=i.exports.useState({}),E=z(T,2),p=E[0],y=E[1],C=i.exports.useCallback(function(){if(!!c.current){var _=o.getBoundingClientRect(),P=c.current.getBoundingClientRect();y({top:"".concat(_.top-P.height,"px"),left:"".concat(_.left,"px")})}},[o,c]);return i.exports.useEffect(function(){c.current&&(c.current.focus(),C())},[d,C,c]),co(C),d?Sr.exports.createPortal(Y("div",{className:W("Popover",r,{active:h}),ref:c,style:p,children:[g("div",{className:"Popover-body",children:l}),g("svg",{className:"Popover-arrow",viewBox:"0 0 9 5",children:g("polygon",{points:"0,0 5,5, 9,0"})})]}),document.body):null},ct=function(t){return m.createElement("div",{className:"Composer-actions","data-action-icon":t.icon},m.createElement(Ye,we({size:"lg"},t)))},fo=function(t){var r=t.item,n=t.onClick;return m.createElement(ct,{icon:r.icon,img:r.img,"data-icon":r.icon,"data-tooltip":r.title||null,"aria-label":r.title,onClick:n})},mo=function(t){var r=t.file,n=t.onCancel,o=t.onSend,l=i.exports.useState(""),s=z(l,2),c=s[0],u=s[1],d=Ze("SendConfirm"),h=d.trans;return i.exports.useEffect(function(){var T=new FileReader;T.onload=function(E){E.target&&u(E.target.result)},T.readAsDataURL(r)},[r]),g(Ha,{className:"SendConfirm",title:h("title"),active:!!c,vertical:!1,actions:[{label:h("cancel"),onClick:n},{label:h("send"),color:"primary",onClick:o}],children:g(Ht,{className:"SendConfirm-inner",center:!0,children:g("img",{src:c,alt:""})})})},$t=navigator.userAgent,Hr=/iPad|iPhone|iPod/.test($t);function vo(e){return $t.indexOf(e)!==-1}function po(){return Hr?vo("Safari/")||/OS 11_[0-3]\D/.test($t)?0:1:2}function ho(e,t){var r=po(),n;t||(t=e);var o=function(){r!==0&&(r===1?document.body.scrollTop=document.body.scrollHeight:t.scrollIntoView(!1))};e.addEventListener("focus",function(){setTimeout(o,300),n=setTimeout(o,1e3)}),e.addEventListener("blur",function(){clearTimeout(n),r&&Hr&&setTimeout(function(){document.body.scrollIntoView()})})}function go(e,t){var r=e.clipboardData.items;if(r&&r.length)for(var n=0;n<r.length;n++){var o=r[n];if(o.type.indexOf("image")!==-1){var l=o.getAsFile();l&&t(l),e.preventDefault();break}}}var yo=["inputRef","invisible","onImageSend"],bo=$e("touch"),yr=function(t){var r=t.inputRef,n=t.invisible,o=t.onImageSend,l=Te(t,yo),s=i.exports.useState(null),c=z(s,2),u=c[0],d=c[1],h=i.exports.useRef(null),T=i.exports.useCallback(function(y){go(y,d)},[]),E=i.exports.useCallback(function(){d(null)},[]),p=i.exports.useCallback(function(){o&&u&&Promise.resolve(o(u)).then(function(){d(null)})},[o,u]);return i.exports.useEffect(function(){bo&&r.current&&h.current&&ho(r.current,h.current)},[r]),Y("div",{className:W({"S--invisible":n}),ref:h,children:[g(ya,{className:"Composer-input",rows:1,autoSize:!0,enterKeyHint:"send",onPaste:o?T:void 0,ref:r,...l}),u&&g(mo,{file:u,onCancel:E,onSend:p})]})},br=function(t){var r=t.disabled,n=t.onClick,o=Ze("Composer"),l=o.trans;return m.createElement("div",{className:"Composer-actions"},m.createElement(Ge,{className:"Composer-sendBtn",disabled:r,onMouseDown:n,color:"primary"},l("send")))};function Tr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tr(Object(r),!0).forEach(function(n){Ft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var _r="S--focusing",To=m.forwardRef(function(e,t){var r=e.text,n=r===void 0?"":r,o=e.inputType,l=o===void 0?"text":o,s=e.wideBreakpoint,c=e.placeholder,u=c===void 0?"\u8BF7\u8F93\u5165...":c,d=e.recorder,h=d===void 0?{}:d,T=e.onInputTypeChange,E=e.onFocus,p=e.onBlur,y=e.onChange,C=e.onSend,_=e.onImageSend,P=e.onAccessoryToggle,F=e.toolbar,R=F===void 0?[]:F,w=e.onToolbarClick,A=e.rightAction,H=e.inputOptions,X=i.exports.useState(n),B=z(X,2),j=B[0],re=B[1],V=i.exports.useState(l||"text"),x=z(V,2),O=x[0],U=x[1],q=i.exports.useState(!1),ne=z(q,2),Q=ne[0],ae=ne[1],ie=i.exports.useState(""),ce=z(ie,2),le=ce[0],S=ce[1],G=i.exports.useRef(null),N=i.exports.useRef(!1),ge=i.exports.useRef(),L=i.exports.useRef(),de=i.exports.useRef(!1),Re=i.exports.useState(!1),Ae=z(Re,2),me=Ae[0],I=Ae[1];i.exports.useEffect(function(){var M=s&&window.matchMedia?window.matchMedia("(min-width: ".concat(s,")")):!1;function pe(_e){I(_e.matches)}return I(M&&M.matches),M&&M.addListener(pe),function(){M&&M.removeListener(pe)}},[s]),i.exports.useEffect(function(){Qe("S--wide",me),me||S("")},[me]),i.exports.useEffect(function(){de.current&&P&&P(Q)},[Q,P]),i.exports.useEffect(function(){de.current=!0},[]),i.exports.useImperativeHandle(t,function(){return{setText:re}});var K=i.exports.useCallback(function(){var M=O==="voice",pe=M?"text":"voice";if(U(pe),M){var _e=G.current;_e.focus(),_e.selectionStart=_e.selectionEnd=_e.value.length}T&&T(pe)},[O,T]),$=i.exports.useCallback(function(M){clearTimeout(ge.current),Qe(_r,!0),N.current=!0,E&&E(M)},[E]),Z=i.exports.useCallback(function(M){ge.current=setTimeout(function(){Qe(_r,!1),N.current=!1},0),p&&p(M)},[p]),ve=i.exports.useCallback(function(){C("text",j),re(""),N.current&&G.current.focus()},[C,j]),J=i.exports.useCallback(function(M){!M.shiftKey&&M.keyCode===13&&(ve(),M.preventDefault())},[ve]),Ee=i.exports.useCallback(function(M,pe){re(M),y&&y(M,pe)},[y]),Be=i.exports.useCallback(function(M){ve(),M.preventDefault()},[ve]),je=i.exports.useCallback(function(){ae(!Q)},[Q]),Je=i.exports.useCallback(function(){setTimeout(function(){ae(!1),S("")})},[]),Ve=i.exports.useCallback(function(M,pe){w&&w(M,pe),M.render&&(L.current=pe.currentTarget,S(M.render))},[w]),dt=i.exports.useCallback(function(){S("")},[]),Le=O==="text",De=Le?"volume-circle":"keyboard-circle",ke=R.length>0,Ne=Er(Er({},H),{},{value:j,inputRef:G,placeholder:u,onFocus:$,onBlur:Z,onKeyDown:J,onChange:Ee,onImageSend:_});return me?Y("div",{className:"Composer Composer--lg",children:[ke&&R.map(function(M){return g(fo,{item:M,onClick:function(_e){return Ve(M,_e)}},M.type)}),le&&g(uo,{active:!!le,target:L.current,onClose:dt,children:le}),g("div",{className:"Composer-inputWrap",children:g(yr,{invisible:!1,...Ne})}),g(br,{onClick:Be,disabled:!j})]}):Y(Kr,{children:[Y("div",{className:"Composer",children:[h.canRecord&&g(ct,{className:"Composer-inputTypeBtn","data-icon":De,icon:De,onClick:K,"aria-label":Le?"\u5207\u6362\u5230\u8BED\u97F3\u8F93\u5165":"\u5207\u6362\u5230\u952E\u76D8\u8F93\u5165"}),Y("div",{className:"Composer-inputWrap",children:[g(yr,{invisible:!Le,...Ne}),!Le&&g(lo,{...h})]}),!j&&A&&g(ct,{...A}),ke&&g(ct,{className:W("Composer-toggleBtn",{active:Q}),icon:"plus-circle",onClick:je,"aria-label":Q?"\u5173\u95ED\u5DE5\u5177\u680F":"\u5C55\u5F00\u5DE5\u5177\u680F"}),j&&g(br,{onClick:Be,disabled:!1})]}),Q&&g(so,{onClickOutside:Je,children:le||g(eo,{items:R,onClick:Ve})})]})}),Eo=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},_o=m.forwardRef(function(e,t){var r=e.wideBreakpoint,n=e.locale,o=n===void 0?"zh-CN":n,l=e.locales,s=e.navbar,c=e.renderNavbar,u=e.loadMoreText,d=e.renderBeforeMessageList,h=e.messagesRef,T=e.onRefresh,E=e.onScroll,p=e.messages,y=p===void 0?[]:p,C=e.renderMessageContent,_=e.onBackBottomShow,P=e.onBackBottomClick,F=e.quickReplies,R=F===void 0?[]:F,w=e.quickRepliesVisible,A=e.onQuickReplyClick,H=A===void 0?function(){}:A,X=e.onQuickReplyScroll,B=e.renderQuickReplies,j=e.text,re=e.placeholder,V=e.onInputFocus,x=e.onInputChange,O=e.onInputBlur,U=e.onSend,q=e.onImageSend,ne=e.inputOptions,Q=e.composerRef,ae=e.inputType,ie=e.onInputTypeChange,ce=e.recorder,le=e.toolbar,S=e.onToolbarClick,G=e.onAccessoryToggle,N=e.rightAction,ge=e.Composer,L=ge===void 0?To:ge;function de(Re){h&&h.current&&h.current.scrollToEnd({animated:!1,force:!0}),V&&V(Re)}return i.exports.useEffect(function(){Eo()&&(document.documentElement.dataset.safari="")},[]),g(Lr,{locale:o,locales:l,children:Y("div",{className:"ChatApp",ref:t,children:[c?c():s&&g($a,{...s}),g(no,{ref:h,loadMoreText:u,messages:y,renderBeforeMessageList:d,renderMessageContent:C,onRefresh:T,onScroll:E,onBackBottomShow:_,onBackBottomClick:P}),Y("div",{className:"ChatFooter",children:[B?B():g(Xa,{items:R,visible:w,onClick:H,onScroll:X}),g(L,{wideBreakpoint:r,ref:Q,inputType:ae,text:j,inputOptions:ne,placeholder:re,onAccessoryToggle:G,recorder:ce,toolbar:le,onToolbarClick:S,onInputTypeChange:ie,onFocus:de,onChange:x,onBlur:O,onSend:U,onImageSend:q,rightAction:N})]})]})})});const So=e=>{let t={url:Jr.chatgpt,data:e};return Zr.get(t)};const Co=[{type:"text",content:{text:"\u4E3B\u4EBA\u597D\uFF0C\u6211\u662F\u60A8\u7684\u4E13\u5C5EAI\u52A9\u7406\uFF0C\u4F60\u7684\u8D34\u5FC3\u5C0F\u52A9\u624B~"},user:{avatar:"//gw.alicdn.com/tfs/TB1DYHLwMHqK1RjSZFEXXcGMXXa-56-62.svg"}}],wo=[{name:"AI\u7FFB\u8BD1",isHighlight:!0},{name:"AI\u89E3\u60D1",isHighlight:!0}];function xo(e){const{messages:t,appendMsg:r,setTyping:n}=Un(Co);function o(c){Za.show("\u5DE5\u7A0B\u5E08\u{1F6A7}\u4E2D~",void 0)}function l(c,u){c==="text"&&u.trim()&&(r({type:"text",content:{text:u},position:"right",user:{avatar:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3zMOyZSgz-F311pvH8sMQB9G1HYks5eqFMA&usqp=CAU"}}),n(!0),So({q:u}).then(d=>{r({type:"text",content:{text:d},user:{avatar:"//gw.alicdn.com/tfs/TB1DYHLwMHqK1RjSZFEXXcGMXXa-56-62.svg"}})}).catch(()=>{r({type:"text",content:{text:"\u7CFB\u7EDF\u8D85\u65F6\uFF0C\u8BF7\u91CD\u8BD5!"},user:{avatar:"//gw.alicdn.com/tfs/TB1DYHLwMHqK1RjSZFEXXcGMXXa-56-62.svg"}})}))}function s(c){const{content:u}=c;return g(Or,{content:u.text})}return g(_o,{navbar:{title:"\u4F0D\u516D\u4E03-AI"},messages:t,renderMessageContent:s,quickReplies:wo,onQuickReplyClick:o,onSend:l})}var Mo=Qr(xo);export{Mo as default};
